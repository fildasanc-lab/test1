<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Nahrát | StudentHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50">
    <div class="max-w-xl mx-auto mt-20 bg-white p-10 rounded-3xl shadow-2xl border border-slate-100">
        <h2 class="text-3xl font-bold mb-2 text-slate-800">Nahrát studijní materiál</h2>
        <p class="text-slate-500 mb-8">AI automaticky určí předmět a ročník.</p>
        
        <div id="drop-zone" class="border-4 border-dashed border-indigo-100 rounded-2xl p-12 text-center hover:border-indigo-400 cursor-pointer transition-all bg-indigo-50/30">
            <p class="text-slate-600 font-medium">Klikni sem nebo přetáhni PDF/Obrázek</p>
            <input type="file" id="fileInput" class="hidden">
        </div>

        <div id="ai-loading" class="hidden mt-8 text-center">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-indigo-500 border-t-transparent"></div>
            <p class="mt-2 text-indigo-600 font-bold">AI analyzuje dokument...</p>
        </div>

        <div id="result" class="hidden mt-8 p-6 bg-emerald-50 rounded-2xl border border-emerald-200">
            <p class="text-emerald-800"><strong>Detekovaný předmět:</strong> <span id="subject" class="font-bold underline">...</span></p>
            <p class="text-emerald-800"><strong>Doporučený ročník:</strong> <span id="grade" class="font-bold underline">...</span></p>
            <button class="w-full mt-6 bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700">Publikovat do komunity</button>
        </div>
    </div>

    <script>
        const input = document.getElementById('fileInput');
        const zone = document.getElementById('drop-zone');

        zone.onclick = () => input.click();

        input.onchange = (e) => {
            const fileName = e.target.files[0].name.toLowerCase();
            zone.classList.add('hidden');
            document.getElementById('ai-loading').classList.remove('hidden');

            setTimeout(() => {
                document.getElementById('ai-loading').classList.add('hidden');
                document.getElementById('result').classList.remove('hidden');
                
                // Jednoduchá ukázková logika "AI" podle názvu souboru
                if(fileName.includes('mat')) {
                    document.getElementById('subject').innerText = 'Matematika';
                    document.getElementById('grade').innerText = '4. ročník';
                } else if(fileName.includes('dej')) {
                    document.getElementById('subject').innerText = 'Dějepis';
                    document.getElementById('grade').innerText = '2. ročník';
                } else {
                    document.getElementById('subject').innerText = 'Obecné studium';
                    document.getElementById('grade').innerText = 'Nerozpoznáno';
                }
            }, 2500);
        };
    </script>
</body>
</html>